<!DOCTYPE html>
<html>
<head>
  <title>tagbibs</title>
  <meta name="GENERATOR" content="github.com/mmarkdown/mmark Mmark Markdown Processor - mmark.miek.nl">
  <meta charset="utf-8">
</head>
<body>

<!-- for annotated version see: https://raw.githubusercontent.com/ietf-tools/rfcxml-templates-and-schemas/main/draft-rfcxml-general-template-annotated-00.xml -->

<h1 class="special" id="abstract">Abstract</h1>

<p>Tagbibs (or simply: &lsquo;bibs&rsquo;) are tiny tags, allowing mere mortals to connect words to other words using pencil, voice or keyboard.<br>
They expand into multiple <a href="https://en.wikipedia.org/wiki/BibTeX">BibTags</a>.<br>
For example, using OCR, scanned paper can &lsquo;connect&rsquo; with online graphs.<br>
Think of it as the brother of hashtags: a command for tagging-this-with-that.<br>
The goal of this spec is three-fold:</p>

<ul>
<li>specify bibs: a terse tagdescription which expands into a reversed BibTag</li>
<li>specify bibs as URI fragment: a way to hint browsers to jump to (bib)tagged content</li>
<li>specify bibrulers: dumb line-based separators for bibtags</li>
</ul>
<section data-matter="main">
<h1 id="what-are-bibs">What are bibs</h1>

<p><img src="postit.jpg" style="max-width:400px"/></p>

<p>bibs allow non-technical humans to write reversed BibTags in a short-form (on paper):</p>

<pre><code>Please get out the laundry 

@laundry@chores@todo
</code></pre>

<blockquote>
<p>Basically means: <code>add</code> laundry to tag <code>@chores</code> and tag <code>@todo</code>, by expanding into the following BibTags:</p>
</blockquote>

<pre><code>Please get out the laundry 

@chores{laundry,
  
}
@todo{laundry,

}
</code></pre>

<blockquote>
<p>the word <code>laundry</code> can now be highlighted in the human text. bibs are basically one step up from socialmedia hashtags, allowing mere mortals to connect words to other words using pencil, voice or keyboard.</p>
</blockquote>

<p>There&rsquo;s no precise predicates or properties (just &lsquo;this points to that&rsquo;, which empowers citizen annotation (an essential precursor of RDF).</p>

<h2 id="format">format</h2>

<ul>
<li><code>@&lt;word&gt;[@tag[@anothertag[...]]]</code></li>
</ul>

<blockquote>
<p>syntactically, bibs are (concatenated) emaildomains without an extension</p>
</blockquote>

<table>
<thead>
<tr>
<th>language</th>
<th>example</th>
</tr>
</thead>

<tbody>
<tr>
<td>javascript regex</td>
<td><code>/(@[a-zA-Z0-9_+]+@[a-zA-Z0-9_@]+)/g</code></td>
</tr>

<tr>
<td>shell grep</td>
<td><code>cat textwithbibs.txt | grep -oE '(@[a-zA-Z0-9_+]+@[a-zA-Z0-9_@]+)'</code></td>
</tr>

<tr>
<td>shell awk</td>
<td><code>cat textwithbibs.txt | xargs -n1 | awk '/(@[a-zA-Z0-9_+]+@[a-zA-Z0-9_@]+)/ { print $0 }'</code></td>
</tr>
</tbody>
</table>

<ol>
<li>at least 2 <code>@</code> characters need to occur, to qualify as a bib</li>
<li>last bib wins: overlapping bibs overwrite eachother (last tag(s) win)</li>
<li>spaces are not allowed, maximum by using <code>+</code> to represents spaces (<code>the+bill@todo</code> e.g.)</li>
</ol>

<pre><code>great+gatsby@book@readinglist
great+gatsby@book
</code></pre>

<p>would only expand to:</p>

<pre><code>@book{great+gatsby

}
</code></pre>

<h2 id="example-an-textual-kanban-using-tags">Example: an textual kanban using tags</h2>

<pre><code>buy milk
finish paper
contact John
buy the great gatsby

@milk@todo
@contact@doing
@contact@done
@gatsby@done
@finish+paper@doing
</code></pre>

<p>If this text would be written on a paper, it could be scanned by a computer and represented spatially like so:</p>

<table>
<thead>
<tr>
<th>todo</th>
<th>doing</th>
<th>done</th>
</tr>
</thead>

<tbody>
<tr>
<td>buy milk</td>
<td>finish paper</td>
<td>contact John</td>
</tr>

<tr>
<td></td>
<td>buy great gatsby</td>
<td></td>
</tr>
</tbody>
</table>

<blockquote>
<p>One could argue that tagging a word like <code>buy</code> would create conflicts, but for most purposes this is really easy to spot / workaround. For serious, large bodies of text use (unique) expanded BibTags instead.</p>
</blockquote>

<h2 id="example-javascript-bibs-expander">Example javascript bibs expander</h2>

<pre><code>var bibs   = { regex: /(@[a-zA-Z0-9_+]+@[a-zA-Z0-9_@]+)/g, tags: {}}
text.replace( bibs.regex , (m,k,v) =&gt; {
   tok   = m.substr(1).split(&quot;@&quot;)
   match = tok.shift()            
   tok.map( (t) =&gt; bibs.tags[match] = `@${t}{${match},\n}\n` )
})
text = Object.values(bibs.tags).join('\n') + bibtex.replace( bibs.regex, '')
</code></pre>

<blockquote>
<p>Tiny but powerful</p>
</blockquote>

<h2 id="merging-bibtagged-overlaps">Merging (BibTagged) overlaps</h2>

<p>When a bib (<code>great+gatsby@book</code> is copy-pasted into another document (a PDF or Textfile with a <a href="https://visual-meta.info">visual-meta</a> appendix e.g.):</p>

<ol>
<li>the editor should check for the existence of <code>@book{great+gatsby</code></li>
<li>if exist: do nothing, leave target document as is</li>
<li>if not: create the expanded BibTag</li>
<li>optionally, the editor can offer to add properties (as bibs are propertyless)</li>
</ol>

<blockquote>
<p>propertyless bibs, are a great way as a &lsquo;process later&rsquo;-medium (&ldquo;I wrote down <code>great+gatsby@readinglist</code> on a papertowel/email, to scan/copy-paste it later)</p>
</blockquote>

<h1 id="what-are-bibs-in-a-uri-fragment">What are bibs in a URI fragment</h1>

<p>Just like regular <a href="https://en.wikipedia.org/wiki/URI_fragment">URI Fragments</a> they hint the browser to focus anything (Bib)Tagged:</p>

<ul>
<li><code>https://website.com#@chores@todo</code></li>
<li><code>https://mastodon.io/myprofile/#@chores@todo</code></li>
<li><code>://xrworld.org/3dscene.gltf#@chores@todo</code></li>
</ul>

<blockquote>
<p>Format: <code>#@&lt;bibtag&gt;[ + @&lt;bibtag&gt; + [ ... ] ]</code></p>
</blockquote>

<h1 id="what-are-bibrulers">What are bibrulers</h1>

<p>Bibrulers are linebased separators, used by <a href="https://visual-meta.info">visual-meta</a> as a means of organizing BibTags:</p>

<pre><code>@{visual-meta-start}
@{visual-meta-header-start}
@visual-meta{
 version = {1.1},
 generator = {Author 7.6.2 (1064)},
}
@{visual-meta-header-end}
@{visual-meta-bibtex-self-citation-start}
@book{2021-12-08T10:57:03Z/TheFutureo,
author = {Frode Alexander Hegland},
editor = {Frode Alexander Hegland},
title = {The Future of Text ||},
...
</code></pre>

<p>This snippet would get decoded to this unnested array:</p>

<pre><code>[
  { ruler: `{visual-meta-start}` },
  { ruler: `{visual-meta-header-start}` },
  { k: &quot;visual-meta&quot;, v: { version: &quot;1.1&quot;, generator: &quot;Author 7.6.2 1064)&quot; } }
  { ruler: `{visual-meta-header-end}` },
  { ruler: `{visual-meta-bibgtex-self-citation-start}` },
  { k: &quot;book{2021-12-08T10:56:03Z/TheFutureo&quot;, v: { author: &quot;Frode ...&quot;, ... } }
  ...
]
</code></pre>

<p>Why not a nested tree-structure? This kneejerk reaction should always be considered &lsquo;a temporary option&rsquo;.<br>
Bibrulers:</p>

<ol>
<li>don&rsquo;t try to re-invent XML or JSON</li>
<li>don&rsquo;t promote traversing graphs (instead: just a list with tags)</li>
<li>they promote rather dumb, unnested lists</li>
<li>they  are much faster/simpler to lookup, implement, (de)serialize in low- and hihglevel languages.</li>
</ol>

<h1 id="contact">Contact</h1>

<ul>
<li>leonvankammen|gmail.com</li>
</ul>

<h1 id="iana-considerations">IANA Considerations</h1>

<p>This document has no IANA actions.</p>

<h1 id="acknowledgments">Acknowledgments</h1>

<p>TODO acknowledge.</p>
</section>

</body>
</html>

